From e081eb41419c1a377e775ca82509c8917a66b3da Mon Sep 17 00:00:00 2001
From: Felicitas Pojtinger <felicitas@pojtinger.com>
Date: Mon, 16 Feb 2026 18:16:33 -0800
Subject: [PATCH] linux: Enable `IPV6_MULTIPLE_TABLES` for better IPv6 support in VPNs

Fixes https://gitlab.gnome.org/GNOME/gnome-build-meta/-/issues/1244

Signed-off-by: Felicitas Pojtinger <felicitas@pojtinger.com>
---
diff --git a/files/linux/fdsdk-config.sh b/files/linux/fdsdk-config.sh
index bdec6a02c025906034d1726f2fc395b407e8f3ad..b3bf6eef5f58d31f27c391ce7d5dedff9c37de29 100644
--- a/files/linux/fdsdk-config.sh
+++ b/files/linux/fdsdk-config.sh
@@ -195,6 +195,10 @@ enable VIRTIO_PCI
 
 # Strongly Recommended
 enable IPV6
+
+# Required for IPv6 support in Tailscale and other VPNs
+enable IPV6_MULTIPLE_TABLES
+
 enable AUTOFS_FS
 enable TMPFS_XATTR
 enable TMPFS_POSIX_ACL

