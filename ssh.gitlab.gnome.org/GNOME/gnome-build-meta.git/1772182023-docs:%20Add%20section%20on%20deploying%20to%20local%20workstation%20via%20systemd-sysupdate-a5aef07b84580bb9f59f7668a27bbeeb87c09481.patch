From a5aef07b84580bb9f59f7668a27bbeeb87c09481 Mon Sep 17 00:00:00 2001
From: Felicitas Pojtinger <felicitas@pojtinger.com>
Date: Fri, 27 Feb 2026 00:47:03 -0800
Subject: [PATCH] docs: Add section on deploying to local workstation via systemd-sysupdate

Signed-off-by: Felicitas Pojtinger <felicitas@pojtinger.com>
---
diff --git a/docs/new/build.md b/docs/new/build.md
index 1c9fffe59fca0f550f231b7d31138a8628c39d72..7d15ef789fe423db1fa48378ddf57142117b9120 100644
--- a/docs/new/build.md
+++ b/docs/new/build.md
@@ -89,7 +89,7 @@ $ bst build core/gnome-control-center.bst # Use `bst --no-strict` to avoid rebuilding the whole chain on the next run
 $ sysext-build-element --verbose zz-gnome-control-center core/gnome-control-center.bst
 ```
 
-> system extensions are applied alphabetically, so you want to prefix them (as we did above with `zz-`) in order to avoid being overwritten by other images that will be loaded.
+> System extensions are applied alphabetically, so you want to prefix them (as we did above with `zz-`) in order to avoid being overwritten by other images that will be loaded.
 
 Now you can deploy it to your workstation:
 
@@ -113,9 +113,26 @@ ```
 
 ## Option 4: Deploying to your workstation via `systemd-sysupdate`
 
-<!-- TODO: Add instructions -->
+To build the sysupdate images and serve them by starting a local sysupdate repository, run the following:
+
+```shell
+$ utils/run-sysupdate-repo.sh --devel # Append `--same-version` to avoid rebuilding the whole chain on the next run
+```
+
+In a second terminal, configure sysupdate to use the local repository and update to the images you've built by running the following:
+
+```shell
+$ run0 utils/enable-local-repo.sh --local
+$ updatectl update host@l.1 # Without passing `--same-version` to run-sysupdate-repo.sh, the number after `l.` increments on each run
+```
+
+Now reboot and select the new version (`l.1`) from the `systemd-boot` menu. At the TPM PIN prompt, enter your disk recovery key, not your TPM PIN.
 
-<!-- TODO: Make sure we show how to remove it again as well -->
+To configure sysupdate on your workstation to longer use your local repository, run the following:
+
+```shell
+$ run0 utils/enable-local-repo.sh --clean
+```
 
 ## Option 5: Deploying to a different workstation via `systemd-sysupdate`
 

